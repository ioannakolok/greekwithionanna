// Multilingual translations for Greek Learning Platform
// English and German language support

const translations = {
    // Navigation
    'nav-home': {
        'en': 'Home',
        'de': 'Startseite'
    },
    'nav-courses': {
        'en': 'Courses',
        'de': 'Kurse'
    },
    'nav-about': {
        'en': 'About',
        'de': '√úber uns'
    },
    'nav-contact': {
        'en': 'Book Lesson',
        'de': 'Lektion buchen'
    },

    // Hero Section
    'hero-title': {
        'en': 'Master Greek with Ioanna',
        'de': 'Griechisch meistern mit Ioanna'
    },
    'hero-subtitle': {
        'en': 'Discover Greek Culture ‚Ä¢ Learn from a Native Expert ‚Ä¢ Experience Authentic Greece',
        'de': 'Griechische Kultur entdecken ‚Ä¢ Von einer Muttersprachlerin lernen ‚Ä¢ Authentisches Griechenland erleben'
    },
    'hero-description': {
        'en': 'Master the Greek language with Ioanna, a native expert who brings centuries of culture to your learning journey. Experience authentic Greek education tailored for international students.',
        'de': 'Meistern Sie die griechische Sprache mit Ioanna, einer Muttersprachlerin, die jahrhundertealte Kultur in Ihr Lernabenteuer einbringt. Erleben Sie authentische griechische Bildung, zugeschnitten auf internationale Studenten.'
    },
    'cta-start-learning': {
        'en': 'Start Learning Greek',
        'de': 'Griechisch lernen starten'
    },
    'cta-meet-ioanna': {
        'en': 'Meet Ioanna',
        'de': 'Ioanna kennenlernen'
    },

    // Quiz Section
    'quiz-title': {
        'en': 'Test Your Greek Knowledge',
        'de': 'Testen Sie Ihr Griechisch-Wissen'
    },
    'quiz-description': {
        'en': 'Begin your Greek learning journey with our interactive assessment. Discover your current level and get personalized recommendations from Ioanna.',
        'de': 'Beginnen Sie Ihr griechisches Lernabenteuer mit unserer interaktiven Bewertung. Entdecken Sie Ihr aktuelles Niveau und erhalten Sie personalisierte Empfehlungen von Ioanna.'
    },
    'quiz-progress': {
        'en': 'Progress',
        'de': 'Fortschritt'
    },
    'quiz-question-1': {
        'en': 'What does "ŒìŒµŒπŒ± œÉŒøœÖ" (Yia sou) mean in English?',
        'de': 'Was bedeutet "ŒìŒµŒπŒ± œÉŒøœÖ" (Yia sou) auf Deutsch?'
    },
    'quiz-option-1a': {
        'en': 'Hello/Goodbye (informal)',
        'de': 'Hallo/Auf Wiedersehen (informell)'
    },
    'quiz-option-1b': {
        'en': 'Thank you very much',
        'de': 'Vielen Dank'
    },
    'quiz-option-1c': {
        'en': 'How are you?',
        'de': 'Wie geht es dir?'
    },
    'quiz-option-1d': {
        'en': 'Good morning',
        'de': 'Guten Morgen'
    },
    'quiz-explanation-1': {
        'en': '"ŒìŒµŒπŒ± œÉŒøœÖ" is indeed the informal way to say both hello and goodbye in Greek. It\'s one of the most versatile greetings you\'ll use in daily conversations.',
        'de': '"ŒìŒµŒπŒ± œÉŒøœÖ" ist tats√§chlich die informelle Art, sowohl hallo als auch auf Wiedersehen auf Griechisch zu sagen. Es ist eine der vielseitigsten Begr√º√üungen, die Sie im t√§glichen Gespr√§ch verwenden werden.'
    },
    'quiz-correct': {
        'en': 'Excellent!',
        'de': 'Ausgezeichnet!'
    },
    'quiz-next': {
        'en': 'Next Question',
        'de': 'N√§chste Frage'
    },
    'quiz-results-title': {
        'en': 'Great Start!',
        'de': 'Gro√üartiger Start!'
    },
    'quiz-results-description': {
        'en': 'You\'re showing excellent potential for learning Greek! Ioanna can help you build on this foundation.',
        'de': 'Sie zeigen ausgezeichnetes Potenzial zum Lernen von Griechisch! Ioanna kann Ihnen helfen, auf diesem Fundament aufzubauen.'
    },
    'quiz-book-lesson': {
        'en': 'Book Your First Lesson',
        'de': 'Buchen Sie Ihre erste Lektion'
    },

    // Video Gallery
    'video-title': {
        'en': 'Immerse Yourself in Greek Culture',
        'de': 'Tauchen Sie ein in die griechische Kultur'
    },
    'video-description': {
        'en': 'Explore the rich tapestry of Greek culture through curated videos. From ancient mythology to modern traditions, discover what makes Greece truly magical.',
        'de': 'Erkunden Sie das reiche Gewebe der griechischen Kultur durch kuratierte Videos. Von antiker Mythologie bis zu modernen Traditionen, entdecken Sie, was Griechenland wirklich magisch macht.'
    },
    'video-filter-all': {
        'en': 'All Videos',
        'de': 'Alle Videos'
    },
    'video-filter-language': {
        'en': 'Language Learning',
        'de': 'Sprachlernen'
    },
    'video-filter-culture': {
        'en': 'Greek Culture',
        'de': 'Griechische Kultur'
    },
    'video-filter-travel': {
        'en': 'Travel Greece',
        'de': 'Griechenland bereisen'
    },
    'video-filter-history': {
        'en': 'Ancient History',
        'de': 'Alte Geschichte'
    },

    // Methodology Section
    'method-title': {
        'en': 'Why Choose Ioanna\'s Method?',
        'de': 'Warum Ioannas Methode w√§hlen?'
    },
    'method-description': {
        'en': 'Combining traditional Greek hospitality with modern language learning techniques, Ioanna creates a unique educational experience that goes beyond just grammar and vocabulary.',
        'de': 'Durch die Kombination von traditioneller griechischer Gastfreundschaft mit modernen Sprachlernmethoden schafft Ioanna ein einzigartiges Bildungserlebnis, das √ºber Grammatik und Vokabeln hinausgeht.'
    },
    'method-culture-title': {
        'en': 'Cultural Immersion',
        'de': 'Kulturelle Immersion'
    },
    'method-culture-desc': {
        'en': 'Learn Greek through authentic cultural experiences, stories, and traditions that bring the language to life.',
        'de': 'Lernen Sie Griechisch durch authentische kulturelle Erlebnisse, Geschichten und Traditionen, die die Sprache zum Leben erwecken.'
    },
    'method-personal-title': {
        'en': 'Personalized Learning',
        'de': 'Personalisiertes Lernen'
    },
    'method-personal-desc': {
        'en': 'Every lesson is tailored to your learning style, goals, and current level for maximum effectiveness.',
        'de': 'Jede Lektion ist auf Ihren Lernstil, Ihre Ziele und Ihr aktuelles Niveau zugeschnitten f√ºr maximale Effektivit√§t.'
    },
    'method-results-title': {
        'en': 'Proven Results',
        'de': 'Erprobte Ergebnisse'
    },
    'method-results-desc': {
        'en': 'Join hundreds of successful students who have achieved fluency through Ioanna\'s proven teaching methodology.',
        'de': 'Schlie√üen Sie sich Hunderten erfolgreicher Studenten an, die durch Ioannas bew√§hrte Lehrmethoden Fl√ºssigkeit erreicht haben.'
    },

    // Statistics
    'stat-students': {
        'en': 'Happy Students',
        'de': 'Zufriedene Studenten'
    },
    'stat-success': {
        'en': 'Success Rate %',
        'de': 'Erfolgsrate %'
    },
    'stat-experience': {
        'en': 'Years Experience',
        'de': 'Jahre Erfahrung'
    },
    'stat-countries': {
        'en': 'Countries Reached',
        'de': 'L√§nder erreicht'
    },

    // Footer
    'footer-tagline': {
        'en': 'Master Greek with native expert Ioanna',
        'de': 'Griechisch meistern mit Muttersprachlerin Ioanna'
    },
    'footer-copyright': {
        'en': '¬© 2024 LearnGreek.eu. All rights reserved. | Created with ‚ù§Ô∏è for Greek language learners worldwide.',
        'de': '¬© 2024 LearnGreek.eu. Alle Rechte vorbehalten. | Mit ‚ù§Ô∏è erstellt f√ºr griechische Sprachlerner weltweit.'
    },

    // Additional translations for courses page
    'success-stories-title': {
        'en': 'Student Success Stories',
        'de': 'Erfolgsgeschichten der Studenten'
    },
    'success-stories-description': {
        'en': 'Join hundreds of students who have achieved their Greek learning goals with Ioanna\'s guidance.',
        'de': 'Schlie√üen Sie sich Hunderten von Studenten an, die ihre griechischen Lernziele mit Ioannas Hilfe erreicht haben.'
    },
    'cta-continue-journey-title': {
        'en': 'Ready to Continue Your Greek Journey?',
        'de': 'Bereit, Ihr griechisches Abenteuer fortzusetzen?'
    },
    'cta-continue-journey-desc': {
        'en': 'Join the hundreds of students who have achieved their Greek learning goals with Ioanna\'s expert guidance. Your personalized learning journey awaits!',
        'de': 'Schlie√üen Sie sich den Hunderten von Studenten an, die ihre griechischen Lernziele mit Ioannas Fachkenntnissen erreicht haben. Ihr personalisiertes Lernabenteuer wartet!'
    }

    // Courses Page
    'courses-title': {
        'en': 'Greek Language Courses',
        'de': 'Griechisch-Sprachkurse'
    },
    'courses-description': {
        'en': 'From complete beginner to advanced fluency, Ioanna\'s comprehensive courses combine language learning with cultural immersion for a truly authentic Greek education experience.',
        'de': 'Vom absoluten Anf√§nger bis zur fortgeschrittenen Fl√ºssigkeit kombinieren Ioannas umfassende Kurse Sprachlernen mit kultureller Immersion f√ºr ein wahrhaft authentisches griechisches Bildungserlebnis.'
    },
    'courses-progress-title': {
        'en': 'Your Learning Journey',
        'de': 'Ihr Lernabenteuer'
    },
    'courses-progress-overall': {
        'en': 'Overall Progress',
        'de': 'Gesamtfortschritt'
    },
    'courses-lessons-completed': {
        'en': 'Lessons Completed',
        'de': 'Abgeschlossene Lektionen'
    },
    'courses-lessons-remaining': {
        'en': 'Lessons Remaining',
        'de': 'Verbleibende Lektionen'
    },
    'courses-days-active': {
        'en': 'Days Active',
        'de': 'Aktive Tage'
    },

    // Learning Path
    'path-title': {
        'en': 'Your Greek Learning Path',
        'de': 'Ihr griechischer Lernpfad'
    },
    'path-description': {
        'en': 'Follow Ioanna\'s carefully crafted curriculum designed to take you from Greek beginner to confident conversationalist.',
        'de': 'Folgen Sie Ioannas sorgf√§ltig zusammengestelltem Curriculum, das darauf ausgelegt ist, Sie von einem griechischen Anf√§nger zu einem sicheren Konversationisten zu machen.'
    },

    // Course Levels
    'level-beginner': {
        'en': 'Beginner',
        'de': 'Anf√§nger'
    },
    'level-elementary': {
        'en': 'Elementary',
        'de': 'Grundkenntnisse'
    },
    'level-intermediate': {
        'en': 'Intermediate',
        'de': 'Mittelstufe'
    },
    'level-upper-intermediate': {
        'en': 'Upper Int.',
        'de': 'Oberstufe'
    },
    'level-advanced': {
        'en': 'Advanced',
        'de': 'Fortgeschritten'
    },

    // Course Status
    'status-completed': {
        'en': 'Completed',
        'de': 'Abgeschlossen'
    },
    'status-in-progress': {
        'en': 'In Progress',
        'de': 'In Bearbeitung'
    },
    'status-locked': {
        'en': 'Locked',
        'de': 'Gesperrt'
    },

    // Course Details
    'course-progress': {
        'en': 'Progress',
        'de': 'Fortschritt'
    },
    'course-prerequisites': {
        'en': 'Prerequisites',
        'de': 'Voraussetzungen'
    },
    'course-preview': {
        'en': 'Preview ‚Üí',
        'de': 'Vorschau ‚Üí'
    },
    'course-continue': {
        'en': 'Continue ‚Üí',
        'de': 'Weiter ‚Üí'
    },

    // Interactive Tools
    'tools-title': {
        'en': 'Interactive Learning Tools',
        'de': 'Interaktive Lernwerkzeuge'
    },
    'tools-description': {
        'en': 'Enhance your learning with our suite of interactive tools designed to make Greek learning engaging and effective.',
        'de': 'Verbessern Sie Ihr Lernen mit unserer Suite interaktiver Werkzeuge, die darauf ausgelegt sind, das Griechischlernen ansprechend und effektiv zu gestalten.'
    },
    'tool-vocabulary': {
        'en': 'Vocabulary Builder',
        'de': 'Vokabeltrainer'
    },
    'tool-vocabulary-desc': {
        'en': 'Interactive flashcards with audio pronunciation',
        'de': 'Interaktive Karteikarten mit Audio-Aussprache'
    },
    'tool-grammar': {
        'en': 'Grammar Exercises',
        'de': 'Grammatik√ºbungen'
    },
    'tool-grammar-desc': {
        'en': 'Practice with real-time feedback',
        'de': '√úben mit Echtzeit-Feedback'
    },
    'tool-quizzes': {
        'en': 'Cultural Quizzes',
        'de': 'Kulturquizze'
    },
    'tool-quizzes-desc': {
        'en': 'Test your knowledge of Greek culture',
        'de': 'Testen Sie Ihr Wissen √ºber die griechische Kultur'
    },
    'tool-conversation': {
        'en': 'Conversation Practice',
        'de': 'Konversations√ºbung'
    },
    'tool-conversation-desc': {
        'en': 'Role-play scenarios with Ioanna',
        'de': 'Rollenspiel-Szenarien mit Ioanna'
    },

    // About Page
    'about-title': {
        'en': 'Meet Ioanna',
        'de': 'Lernen Sie Ioanna kennen'
    },
    'about-subtitle': {
        'en': 'Your Greek Language Expert & Cultural Guide',
        'de': 'Ihre griechische Sprachexpertin & Kulturf√ºhrerin'
    },
    'about-description': {
        'en': 'Born and raised in Athens, Ioanna brings authentic Greek culture and language expertise to students worldwide. With a Master\'s degree in Linguistics and certifications in language teaching, she has helped hundreds of students achieve their Greek learning goals.',
        'de': 'In Athen geboren und aufgewachsen, bringt Ioanna authentische griechische Kultur und Sprachexpertise zu Studenten weltweit. Mit einem Master-Abschluss in Linguistik und Zertifizierungen im Sprachunterricht hat sie Hunderten von Studenten geholfen, ihre griechischen Lernziele zu erreichen.'
    },
    'about-book-lesson': {
        'en': 'Book a Lesson',
        'de': 'Lektion buchen'
    },
    'about-teaching-method': {
        'en': 'Teaching Method',
        'de': 'Lehrmethode'
    },

    // Professional Background
    'credentials-title': {
        'en': 'Professional Background',
        'de': 'Beruflicher Hintergrund'
    },
    'credentials-description': {
        'en': 'Ioanna\'s extensive qualifications and experience make her the ideal guide for your Greek learning journey.',
        'de': 'Ioannas umfassende Qualifikationen und Erfahrung machen sie zur idealen F√ºhrerin f√ºr Ihr griechisches Lernabenteuer.'
    },

    // Language Skills
    'language-expertise': {
        'en': 'Language Expertise',
        'de': 'Sprachexpertise'
    },
    'language-description': {
        'en': 'Ioanna\'s multilingual background allows her to understand the challenges of learning Greek from different linguistic perspectives. She speaks fluent English, German, and Spanish, making her accessible to students from around the world.',
        'de': 'Ioannas mehrsprachiger Hintergrund erm√∂glicht es ihr, die Herausforderungen des Griechischlernens aus verschiedenen linguistischen Perspektiven zu verstehen. Sie spricht flie√üend Englisch, Deutsch und Spanisch, was sie f√ºr Studenten aus aller Welt zug√§nglich macht.'
    },

    // Teaching Methodology
    'methodology-title': {
        'en': 'Ioanna\'s Teaching Philosophy',
        'de': 'Ioannas Lehrphilosophie'
    },
    'methodology-description': {
        'en': 'Ioanna believes that language learning should be a joyful journey of cultural discovery, not just a series of grammar rules and vocabulary lists.',
        'de': 'Ioanna glaubt, dass Sprachlernen eine freudige Reise der kulturellen Entdeckung sein sollte, nicht nur eine Reihe von Grammatikregeln und Vokabellisten.'
    },

    // Contact Page
    'contact-title': {
        'en': 'Book Your Greek Lesson',
        'de': 'Buchen Sie Ihre Griechisch-Lektion'
    },
    'contact-description': {
        'en': 'Ready to start your Greek learning journey? Choose from flexible lesson options and schedule your session with Ioanna today.',
        'de': 'Bereit, Ihr griechisches Lernabenteuer zu starten? W√§hlen Sie aus flexiblen Lektionsoptionen und planen Sie Ihre Sitzung mit Ioanna heute.'
    },

    // Booking Form
    'booking-step-1-title': {
        'en': 'Choose Your Lesson Type',
        'de': 'W√§hlen Sie Ihren Lektionstyp'
    },
    'booking-step-2-title': {
        'en': 'Select Date & Time',
        'de': 'Datum & Uhrzeit ausw√§hlen'
    },
    'booking-step-3-title': {
        'en': 'Your Details',
        'de': 'Ihre Details'
    },

    // Lesson Types
    'lesson-consultation': {
        'en': 'Free Consultation',
        'de': 'Kostenlose Beratung'
    },
    'lesson-consultation-desc': {
        'en': '15-minute session to discuss your goals and assess your level',
        'de': '15-min√ºtige Sitzung zur Besprechung Ihrer Ziele und Bewertung Ihres Niveaus'
    },
    'lesson-regular': {
        'en': 'Regular Lesson',
        'de': 'Regul√§re Lektion'
    },
    'lesson-regular-desc': {
        'en': '60-minute personalized lesson with cultural immersion',
        'de': '60-min√ºtige personalisierte Lektion mit kultureller Immersion'
    },
    'lesson-intensive': {
        'en': 'Intensive Session',
        'de': 'Intensive Sitzung'
    },
    'lesson-intensive-desc': {
        'en': '90-minute deep dive with extended practice',
        'de': '90-min√ºtiger Deep Dive mit erweitertem √úbungsanteil'
    },

    // Form Labels
    'form-first-name': {
        'en': 'First Name *',
        'de': 'Vorname *'
    },
    'form-last-name': {
        'en': 'Last Name *',
        'de': 'Nachname *'
    },
    'form-email': {
        'en': 'Email *',
        'de': 'E-Mail *'
    },
    'form-phone': {
        'en': 'Phone (Optional)',
        'de': 'Telefon (Optional)'
    },
    'form-greek-level': {
        'en': 'Current Greek Level',
        'de': 'Aktuelles Griechisch-Niveau'
    },
    'form-learning-goals': {
        'en': 'Learning Goals',
        'de': 'Lernziele'
    },
    'form-notes': {
        'en': 'Additional Notes',
        'de': 'Zus√§tzliche Notizen'
    },

    // Form Options
    'level-complete-beginner': {
        'en': 'Complete Beginner (Never studied Greek)',
        'de': 'Vollst√§ndiger Anf√§nger (nie Griechisch gelernt)'
    },
    'level-beginner': {
        'en': 'Beginner (A1) - Know some basics',
        'de': 'Anf√§nger (A1) - Kennt einige Grundlagen'
    },
    'level-elementary': {
        'en': 'Elementary (A2) - Can have simple conversations',
        'de': 'Grundkenntnisse (A2) - Kann einfache Gespr√§che f√ºhren'
    },
    'level-intermediate': {
        'en': 'Intermediate (B1) - Can discuss familiar topics',
        'de': 'Mittelstufe (B1) - Kann √ºber vertraute Themen diskutieren'
    },
    'level-upper-intermediate': {
        'en': 'Upper Intermediate (B2) - Can handle complex situations',
        'de': 'Oberstufe (B2) - Kann komplexe Situationen bew√§ltigen'
    },
    'level-advanced': {
        'en': 'Advanced (C1) - Near-fluent speaker',
        'de': 'Fortgeschritten (C1) - Fast flie√üender Sprecher'
    },

    // Form Buttons
    'btn-continue': {
        'en': 'Continue',
        'de': 'Weiter'
    },
    'btn-back': {
        'en': 'Back',
        'de': 'Zur√ºck'
    },
    'btn-book-lesson': {
        'en': 'Book My Lesson',
        'de': 'Meine Lektion buchen'
    },

    // Success Message
    'booking-success': {
        'en': 'Booking Confirmed!',
        'de': 'Buchung best√§tigt!'
    },
    'booking-success-message': {
        'en': 'Thank you for booking your lesson with Ioanna. You\'ll receive a confirmation email shortly with all the details and preparation instructions.',
        'de': 'Vielen Dank f√ºr die Buchung Ihrer Lektion mit Ioanna. Sie werden in K√ºrze eine Best√§tigungs-E-Mail mit allen Details und Vorbereitungsanweisungen erhalten.'
    },

    // Language Toggle
    'language-toggle': {
        'en': 'Language',
        'de': 'Sprache'
    },
    'language-en': {
        'en': 'English',
        'de': 'Englisch'
    },
    'language-de': {
        'en': 'German',
        'de': 'Deutsch'
    }
};

// Language management system
class LanguageManager {
    constructor() {
        this.currentLanguage = this.detectLanguage();
        this.init();
    }

    // Detect user language based on browser settings and location
    detectLanguage() {
        // Check if user has manually selected a language
        const storedLanguage = localStorage.getItem('userLanguage');
        if (storedLanguage) {
            return storedLanguage;
        }

        // Check browser language
        const browserLang = navigator.language || navigator.userLanguage;
        if (browserLang.startsWith('de')) {
            return 'de';
        }

        // Default to English
        return 'en';
    }

    // Initialize language system
    init() {
        this.createLanguageToggle();
        this.updateAllTexts();
        this.addLanguageAttribute();
    }

    // Create language toggle button
    createLanguageToggle() {
        const nav = document.querySelector('nav .hidden.md\\:block .ml-10');
        if (nav) {
            const toggleDiv = document.createElement('div');
            toggleDiv.className = 'relative';
            toggleDiv.innerHTML = `
                <button id="language-toggle" class="flex items-center space-x-2 bg-gray-100 hover:bg-gray-200 text-aegean-blue font-medium px-3 py-2 rounded-lg transition-colors">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"></path>
                    </svg>
                    <span>${this.currentLanguage === 'de' ? 'DE' : 'EN'}</span>
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </button>
                <div id="language-dropdown" class="absolute right-0 mt-2 w-32 bg-white rounded-lg shadow-lg border border-gray-100 py-2 hidden z-50">
                    <button class="language-option w-full text-left px-4 py-2 hover:bg-gray-50 transition-colors font-medium" data-lang="en">üá∫üá∏ English</button>
                    <button class="language-option w-full text-left px-4 py-2 hover:bg-gray-50 transition-colors font-medium" data-lang="de">üá©üá™ Deutsch</button>
                </div>
            `;
            nav.appendChild(toggleDiv);

            // Add event listeners
            document.getElementById('language-toggle').addEventListener('click', () => {
                document.getElementById('language-dropdown').classList.toggle('hidden');
            });

            document.querySelectorAll('.language-option').forEach(option => {
                option.addEventListener('click', (e) => {
                    const selectedLang = e.target.dataset.lang;
                    this.setLanguage(selectedLang);
                    document.getElementById('language-dropdown').classList.add('hidden');
                });
            });

            // Close dropdown when clicking outside
            document.addEventListener('click', (e) => {
                if (!e.target.closest('#language-toggle') && !e.target.closest('#language-dropdown')) {
                    document.getElementById('language-dropdown').classList.add('hidden');
                }
            });
        }
    }

    // Set language and update all content
    setLanguage(language) {
        this.currentLanguage = language;
        localStorage.setItem('userLanguage', language);
        this.updateAllTexts();
        this.addLanguageAttribute();
        
        // Update toggle button text
        const toggleBtn = document.getElementById('language-toggle');
        if (toggleBtn) {
            toggleBtn.querySelector('span').textContent = language === 'de' ? 'DE' : 'EN';
        }
    }

    // Add language attribute to HTML element
    addLanguageAttribute() {
        document.documentElement.lang = this.currentLanguage;
    }

    // Update all translatable elements
    updateAllTexts() {
        document.querySelectorAll('[data-translate]').forEach(element => {
            const key = element.dataset.translate;
            if (translations[key] && translations[key][this.currentLanguage]) {
                // Handle different element types
                if (element.tagName === 'INPUT' && element.type !== 'button') {
                    element.placeholder = translations[key][this.currentLanguage];
                } else if (element.tagName === 'TEXTAREA') {
                    element.placeholder = translations[key][this.currentLanguage];
                } else {
                    element.textContent = translations[key][this.currentLanguage];
                }
            }
        });

        // Update form placeholders and options
        this.updateFormElements();
    }

    // Update form elements with translations
    updateFormElements() {
        // Update select options
        document.querySelectorAll('select').forEach(select => {
            select.querySelectorAll('option').forEach(option => {
                const key = option.dataset.translate;
                if (key && translations[key] && translations[key][this.currentLanguage]) {
                    option.textContent = translations[key][this.currentLanguage];
                }
            });
        });

        // Update button texts
        document.querySelectorAll('button[data-translate]').forEach(button => {
            const key = button.dataset.translate;
            if (translations[key] && translations[key][this.currentLanguage]) {
                button.textContent = translations[key][this.currentLanguage];
            }
        });
    }

    // Get translation for a specific key
    translate(key) {
        if (translations[key] && translations[key][this.currentLanguage]) {
            return translations[key][this.currentLanguage];
        }
        return key; // Return key if translation not found
    }

    // Get current language
    getCurrentLanguage() {
        return this.currentLanguage;
    }
}

// Initialize language manager when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
    window.languageManager = new LanguageManager();
});

// Export for use in other scripts
if (typeof module !== 'undefined' && module.exports) {
    module.exports = { LanguageManager, translations };
}